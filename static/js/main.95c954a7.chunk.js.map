{"version":3,"sources":["components/Loader/Loader.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","App.js","index.js"],"names":["FuncLoader","className","type","color","height","width","modalRoot","document","querySelector","Modal","keyDownHandler","e","code","props","onClose","OnOverlayHandler","event","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","onClick","src","maxImage","alt","Component","ImageGalleryItem","id","showImageFunc","Button","state","ImageGallery","imageValue","error","status","page","perPage","showModal","handleClick","setState","scrollForImages","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","prevState","length","fetch","then","res","ok","json","Promise","reject","Error","hits","toast","prev","catch","map","webformatURL","tags","largeImageURL","Searchbar","handleValueChange","value","toLowerCase","handleSubmit","preventDefault","trim","onSubmit","onChange","placeholder","App","openModal","isLoading","newElementHight","handleFormSubmit","closeModal","fullImageURL","imageUrl","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.95c954a7.chunk.js","sourcesContent":["import React from 'react';\nimport Loader from 'react-loader-spinner';\n\nconst FuncLoader = () => {\n  return (\n    <div className=\"loader\">\n      <Loader type=\"TailSpin\" color=\"#303f9f\" height={80} width={80} />\n    </div>\n  );\n};\n\nexport default FuncLoader;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.keyDownHandler);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.keyDownHandler);\n  }\n\n  keyDownHandler = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  OnOverlayHandler = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.OnOverlayHandler}>\n        <div className=\"Modal\">\n          <img src={this.props.maxImage} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import { Component } from 'react';\n\nexport default class ImageGalleryItem extends Component {\n  render() {\n    return (\n      <li className=\"ImageGalleryItem\" id={this.props.id}>\n        <img\n          src={this.props.src}\n          alt={this.props.alt}\n          className=\"ImageGalleryItem-image\"\n          onClick={this.props.showImageFunc}\n        />\n      </li>\n    );\n  }\n}\n","import { Component } from 'react';\n\nexport default class Button extends Component {\n  state = {};\n  render() {\n    return (\n      <button type=\"button\" onClick={this.props.onClick} className=\"Button\">\n        Load more\n      </button>\n    );\n  }\n}\n","import { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport FuncLoader from '../Loader/Loader';\nimport Modal from '../Modal/Modal';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Button from '../Button/Button';\n\nexport default class ImageGallery extends Component {\n  state = {\n    imageValue: [],\n    error: null,\n    status: 'idle',\n    page: 1,\n    perPage: 12,\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.imageValue !== prevProps.imageValue) {\n      this.setState({\n        imageValue: [],\n      });\n    }\n    if (\n      prevState.imageValue.length !== this.state.imageValue.length &&\n      prevState.imageValue.length !== 0\n    ) {\n      this.scrollForImages();\n    }\n    if (\n      prevProps.imageValue !== this.props.imageValue ||\n      prevState.page !== this.state.page\n    ) {\n      const KEY_API = '23070790-299ad5e8dfdc75cc527267990';\n      const BASE_URL =\n        'https://pixabay.com/api/?image_type=photo&orientation=horizontal';\n\n      this.setState({ status: 'pending' });\n      fetch(\n        `${BASE_URL}&q=${this.props.imageValue}&page=${this.state.page}&per_page=12&key=${KEY_API}`,\n      )\n        .then(res => {\n          if (res.ok) {\n            return res.json();\n          }\n          return Promise.reject(\n            new Error(\n              `по вашему запросу ${this.props.imageValue}ничего не найдено`,\n            ),\n          );\n        })\n        .then(imageValue => {\n          if (imageValue.hits.length === 0) {\n            return toast.error(\n              `ничего не найдено по запросу ${this.props.imageValue}`,\n            );\n          } else\n            this.setState(prev => ({\n              imageValue: [...prev.imageValue, ...imageValue.hits],\n              status: 'resolved',\n            }));\n        })\n\n        .catch(error => this.setState({ error, status: 'rejected' }));\n    }\n  }\n  handleClick = () => {\n    this.setState(() => ({\n      page: this.state.page + 1,\n    }));\n  };\n  scrollForImages = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n  render() {\n    const { imageValue, status } = this.state;\n    if (status === 'idle') {\n      return <div className=\"idleDiv\">Enter name value</div>;\n    }\n\n    if (status === 'pending') {\n      return <FuncLoader />;\n    }\n    if (status === 'rejected') {\n      return <h1>такого имени нет {this.props.imageValue}</h1>;\n    }\n    if (status === 'resolved') {\n      return (\n        <div>\n          <ul className=\"ImageGallery\">\n            {imageValue.map(({ id, webformatURL, tags, largeImageURL }) => (\n              <ImageGalleryItem\n                key={id}\n                src={webformatURL}\n                alt={tags}\n                className=\"ImageGalleryItem-image\"\n                showImageFunc={this.props.showImageFunc(largeImageURL)}\n              />\n            ))}\n            {this.state.showModal && <Modal />}\n          </ul>\n          <Button onClick={this.handleClick} />\n        </div>\n      );\n    }\n  }\n}\n","import { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nexport class Searchbar extends Component {\n  state = {\n    imageValue: '',\n  };\n\n  handleValueChange = e => {\n    this.setState({ imageValue: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    if (this.state.imageValue.trim() === '') {\n      return toast('Enter value');\n    }\n    this.props.onSubmit(this.state.imageValue);\n    this.setState({\n      imageValue: '',\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <header className=\"Searchbar\">\n          <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n            <button type=\"submit\" className=\"SearchForm-button\">\n              <span className=\"SearchForm-button-label\">Search</span>\n            </button>\n\n            <input\n              onChange={this.handleValueChange}\n              value={this.state.imageValue}\n              className=\"SearchForm-input\"\n              type=\"text\"\n              // autocomplete=\"off\"\n              // autofocus\n              placeholder=\"Search images and photos\"\n            />\n          </form>\n        </header>\n      </div>\n    );\n  }\n}\nexport default Searchbar;\n","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Modal from './components/Modal/Modal';\nimport Searchbar from './components/Searchbar/Searchbar';\n\nexport default class App extends Component {\n  state = {\n    imageValue: [],\n    openModal: false,\n    isLoading: false,\n  };\n  maxImage = '';\n  newElementHight = 0;\n\n  handleFormSubmit = imageValue => {\n    this.setState({ imageValue });\n  };\n\n  closeModal = () => {\n    this.fullImageURL = '';\n    this.setState({ openModal: false });\n  };\n\n  showImageFunc = imageUrl => () => {\n    this.maxImage = imageUrl;\n    this.setState({ openModal: true });\n  };\n  render() {\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery\n          imageValue={this.state.imageValue}\n          showImageFunc={this.showImageFunc}\n        ></ImageGallery>\n        {this.state.openModal && (\n          <Modal maxImage={this.maxImage} onClose={this.closeModal}></Modal>\n        )}\n\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}