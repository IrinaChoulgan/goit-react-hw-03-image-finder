{"version":3,"sources":["components/Loader/Loader.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","App.js","index.js"],"names":["FuncLoader","className","type","color","height","width","modalRoot","document","querySelector","Modal","keyDownHandler","e","code","props","onClose","OnOverlayHandler","event","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","onClick","src","maxImage","alt","Component","ImageGalleryItem","id","showImageFunc","Button","state","ImageGallery","imageValue","error","status","page","perPage","showModal","totalHits","showBtn","handleClick","console","log","value","setState","scrollForImages","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","prevState","length","fetch","then","res","ok","json","Promise","reject","Error","hits","toast","prev","catch","map","webformatURL","tags","largeImageURL","Searchbar","handleValueChange","toLowerCase","handleSubmit","preventDefault","trim","onSubmit","onChange","placeholder","App","openModal","isLoading","pixaBayImages","newElementHight","handleFormSubmit","closeModal","fullImageURL","imageUrl","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ac3c9733.chunk.js","sourcesContent":["import React from 'react';\nimport Loader from 'react-loader-spinner';\n\nconst FuncLoader = () => {\n  return (\n    <div className=\"loader\">\n      <Loader type=\"TailSpin\" color=\"#303f9f\" height={80} width={80} />\n    </div>\n  );\n};\n\nexport default FuncLoader;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.keyDownHandler);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.keyDownHandler);\n  }\n\n  keyDownHandler = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  OnOverlayHandler = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.OnOverlayHandler}>\n        <div className=\"Modal\">\n          <img src={this.props.maxImage} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import { Component } from 'react';\n\nexport default class ImageGalleryItem extends Component {\n  render() {\n    return (\n      <li className=\"ImageGalleryItem\" id={this.props.id}>\n        <img\n          src={this.props.src}\n          alt={this.props.alt}\n          className=\"ImageGalleryItem-image\"\n          onClick={this.props.showImageFunc}\n        />\n      </li>\n    );\n  }\n}\n","import { Component } from 'react';\n\nexport default class Button extends Component {\n  state = {};\n  render() {\n    return (\n      <button type=\"button\" onClick={this.props.onClick} className=\"Button\">\n        Load more\n      </button>\n    );\n  }\n}\n","import { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport FuncLoader from '../Loader/Loader';\nimport Modal from '../Modal/Modal';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Button from '../Button/Button';\n\nexport default class ImageGallery extends Component {\n  state = {\n    imageValue: [],\n    error: null,\n    status: 'idle',\n    page: 1,\n    perPage: 12,\n    showModal: false,\n    totalHits: null,\n    showBtn: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.imageValue !== prevProps.imageValue) {\n      this.setState({\n        imageValue: [],\n        page: 1,\n      });\n    }\n    if (\n      prevState.imageValue.length !== this.state.imageValue.length &&\n      prevState.imageValue.length !== 0\n    ) {\n      this.scrollForImages();\n    }\n    if (\n      prevProps.imageValue !== this.props.imageValue ||\n      prevState.page !== this.state.page\n    ) {\n      const KEY_API = '23070790-299ad5e8dfdc75cc527267990';\n      const BASE_URL =\n        'https://pixabay.com/api/?image_type=photo&orientation=horizontal';\n\n      this.setState({ status: 'pending' });\n      fetch(\n        `${BASE_URL}&q=${this.props.imageValue}&page=${this.state.page}&per_page=12&key=${KEY_API}`,\n      )\n        .then(res => {\n          if (res.ok) {\n            return res.json();\n          }\n          return Promise.reject(\n            new Error(\n              `по вашему запросу ${this.props.imageValue}ничего не найдено`,\n            ),\n          );\n        })\n        .then(imageValue => {\n          if (imageValue.hits.length === 0) {\n            return toast.error(\n              `ничего не найдено по запросу ${this.props.imageValue}`,\n            );\n          } else\n            this.setState(prev => ({\n              imageValue: [...prev.imageValue, ...imageValue.hits],\n              status: 'resolved',\n              page: (this.state.page = 1),\n            }));\n        })\n\n        .catch(error => this.setState({ error, status: 'rejected' }));\n    }\n  }\n  handleClick = e => {\n    console.log(e.target.value);\n    this.setState(() => ({\n      page: this.state.page + 1,\n    }));\n  };\n  scrollForImages = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n  render() {\n    const { imageValue, status } = this.state;\n    return (\n      <div>\n        {status === 'idle' && <div className=\"idleDiv\">Enter name value</div>}\n        {status === 'pending' && <FuncLoader />}\n        <ul className=\"ImageGallery\">\n          {imageValue.map(({ id, webformatURL, tags, largeImageURL }) => (\n            <ImageGalleryItem\n              key={id}\n              src={webformatURL}\n              alt={tags}\n              className=\"ImageGalleryItem-image\"\n              showImageFunc={this.props.showImageFunc(largeImageURL)}\n            />\n          ))}\n          {this.state.showModal && <Modal />}\n        </ul>\n        {status === 'rejected' && (\n          <h1>такого имени нет {this.props.imageValue}</h1>\n        )}\n        {imageValue.length > 0 && <Button onClick={this.handleClick} />}\n        {/* {status === 'pending' && <FuncLoader />} */}\n      </div>\n    );\n  }\n}\n","import { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nexport class Searchbar extends Component {\n  state = {\n    imageValue: '',\n  };\n\n  handleValueChange = e => {\n    this.setState({ imageValue: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    if (this.state.imageValue.trim() === '') {\n      return toast('Enter value');\n    }\n    this.props.onSubmit(this.state.imageValue);\n    this.setState({\n      imageValue: '',\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <header className=\"Searchbar\">\n          <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n            <button type=\"submit\" className=\"SearchForm-button\">\n              <span className=\"SearchForm-button-label\">Search</span>\n            </button>\n\n            <input\n              onChange={this.handleValueChange}\n              value={this.state.imageValue}\n              className=\"SearchForm-input\"\n              type=\"text\"\n              // autocomplete=\"off\"\n              // autofocus\n              placeholder=\"Search images and photos\"\n            />\n          </form>\n        </header>\n      </div>\n    );\n  }\n}\nexport default Searchbar;\n","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Modal from './components/Modal/Modal';\nimport Searchbar from './components/Searchbar/Searchbar';\n\nexport default class App extends Component {\n  state = {\n    imageValue: [],\n    openModal: false,\n    isLoading: false,\n    pixaBayImages: [],\n  };\n  maxImage = '';\n  newElementHight = 0;\n\n  handleFormSubmit = imageValue => {\n    this.setState({ imageValue, page: 1, pixaBayImages: [] });\n  };\n\n  closeModal = () => {\n    this.fullImageURL = '';\n    this.setState({ openModal: false });\n  };\n\n  showImageFunc = imageUrl => () => {\n    this.maxImage = imageUrl;\n    this.setState({ openModal: true });\n  };\n  render() {\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery\n          imageValue={this.state.imageValue}\n          showImageFunc={this.showImageFunc}\n        ></ImageGallery>\n        {this.state.openModal && (\n          <Modal maxImage={this.maxImage} onClose={this.closeModal}></Modal>\n        )}\n\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}